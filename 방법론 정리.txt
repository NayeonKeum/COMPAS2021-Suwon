공간적 자기상관성: 근접한 위치에서 수집된 사례일수록 더 높은 관련성을 가지는 것

# 지리가중회귀
- 국지모란지수 처럼 지역별로 집계된 데이터
- 그냥 ols를 사용하면 안 되는 이유는 등분산, 오차의 상호 독립성을 가정하므로 공간적 의존성과 이질성에 의한 
변이를 고려하지 못함. 공간적 자기상관이 통계적으로 유의하다면 ols 가정에 위배
- 모란지수의 통계적 유의성 검정을 통해 공간적 자기상관을 판정하여 존재한다면 지리가중회귀를 한다
-> 4개시도의 경우 그랬으므로,,, 일반 단순회귀분석으로 모형을 추정하는 것이 가능!


- 지역마다 회귀계수 다름(지리가중), 회귀계수로 Kmeans를 하여 지역적 분포를 나타낼 수 있음
(이미 정규화되었다면 단위가 다 동일하므로 회귀계수의 크기와 영향력이 같음을 알 수 있음!!!)
  -> 클러스터를 영향력 기준으로 나눌 수 있음!!!!(그 안에서 회귀계수 평균/분산 등을 파악해보기~)




# 최근린분석/Ripley's K
- 위경도가 정확하게 존재한다면
- 전체 지역의 면적 분에 전체 사건 개수에 대해서 통계적 유의성을 갖는 사건들을 파악하여
통계적으로 신뢰할 수 있는 거리에 위치한 사건들을 포함한 조합을 찾는 것!
- 오직 거리 만을 고려하여 가장 가깝게 위치한 사건들을 그룹으로 묶음
- NNI(최근린지수)가 1보다 작을 때 군집



# 국지모란지수(local Moran's I)
- 가중최소제곱법의 일종
- 행정구역별로 데이터가 집계되는 경우 최근린 분석을 사용하기가 어려워서 이거 사용
- 전체 공간에 대한 자기상관관계가 존재하는지
- 거리가 가까운 두 지역을 비슷한 그룹으로 추정하면서 분석이 시작/ 거리가 가까울 경우 자기상관관계가
존재한다고 추정, 문석 결과 기각될 경우(특정 지역과 가장 가까운 거리에 위치한 주변 지역이
특정 지역과 다른 속성을 나타낼 때만 핫스팟으로 인식) -> 주변 지역과의 차이를 통해 핫스팟 찾아냄


## 그리드 클러스터링


## 시공간 분석기법
- 최근린과 k-function을 시공간으로 확대한 Jacquez test와 시공간 k함수, Kulldorf의 시공간검정통계량
- 큰일..이다...시발..


분석 방법(수원시 그리드): 
1. <b>112신고 데이터에 대해서</b>만 최근린분석/Ripley's K로 핫스팟을 추출
2. <b>나머지 데이터들에 대하여(112신고가 타겟변수)</b> 지리가중회귀 후 회귀계수로 Kmeans를 하여 지역별 특징 뽑음
3. 1과 2를 연결하여 해석

분석 방법(4개시도 지역):
1. 
2. 
3. 


문제점:
- 최근린 분석이 KNN에서 k=1인 버전이라는데 이러면 오버피팅 개 쎄던데 왜 k=1로 하는거?
(근방 한 개 기준으로 거리를 측정)
- knn 알고리즘이랑 최근린분석 알고리즘이랑 좀 다른것 같은데 이거 사용해도 되는게 맞나
https://scikit-learn.org/stable/modules/neighbors.html
- 





